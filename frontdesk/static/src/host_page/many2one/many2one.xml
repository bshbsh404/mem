<?xml version="1.0" encoding="UTF-8"?>

<templates xml:space="preserve">
    <t t-name="frontdesk.Many2One">

        <!-- Visit Purpose Field -->
        <div class="mt-3">
            <label for="visit_purpose" class="form-label">Visit Purpose <t><span class="small text-danger">*</span></t></label>
            <div class="o_input_dropdown">
                <AutoComplete
                    value="props.selectedPurpose || ''"
                    id="'visit_purpose'"
                    placeholder="'Choose the purpose'"
                    sources="purposeSources"
                    onSelect.bind="onPurposeSelect"
                    dropdown="true"
                    autoSelect="true"
                    autofocus="true"
                />
            </div>
        </div>

        <!-- Purpose Text Field (only visible when 'Other' is selected) -->
        <div t-if="state.showOtherPurposeInput" class="mt-3">
            <!-- <label for="other_purpose" class="form-label">Other Purpose <t><span class="small text-danger">*</span></t></label>
            <input type="text" class="form-control" id="other_purpose" t-model="state.otherPurpose"/>
            
            <label for="other_purpose" class="form-label">Other Purpose <t><span class="small text-danger">*</span></t></label>
            <input type="text" class="form-control" id="other_purpose" t-model="state.otherPurpose"/> -->

            <!-- Dropdown for "Other Reasons" -->
            <label for="other_reason" class="form-label">Select Other Reason</label>
            <select class="form-select" id="other_reason" t-model="state.selectedOtherReason">
                <option t-foreach="state.otherReasons" t-as="reason" t-key="reason.id" t-att-value="reason.id">
                    <t t-esc="reason.name"/>
                </option>
            </select>
        </div>

        <div t-if="state.showWilayatInput" class="mt-3">
            <label for="wilayat" class="form-label">State</label>
            <select class="form-select" id="wilayat" t-model="state.selectedWilayat">
                <option t-foreach="state.wilayatOptions" t-as="wilayat" t-key="wilayat.id" t-att-value="wilayat.id">
                    <t t-esc="wilayat.name"/>
                </option>
            </select>
        </div>

        <!-- Department Field -->
        <div t-if="props.visitType == 'department'" class="mt-3">
            <label for="department" class="form-label">Department <t><span class="small text-danger">*</span></t></label>
            <div class="o_input_dropdown">
                <AutoComplete
                    value="props.selectedDepartment || ''"
                    id="'department'"
                    placeholder="'Choose a Department'"
                    sources="departmentSources"
                    onSelect.bind="onDepartmentSelect"
                    dropdown="true"
                    autoSelect="true"
                    autofocus="true"
                />
            </div>
        </div>

        <!-- Employee Field (only visible when visitType is 'employee' and visit purpose is selected) -->
        <div t-if="props.visitType === 'employee' and state.selectedPurpose and state.showEmployeeInput" class="mt-3">
            <label for="employee" class="form-label">Employee <t><span class="small text-danger">*</span></t></label>
            <div class="o_input_dropdown">
                <AutoComplete
                    value="state.selectedEmployee ? state.selectedEmployee.display_name : ''"
                    id="'employee'"
                    placeholder="'Choose an Employee'"
                    sources="employeeSources"
                    onSelect.bind="onEmployeeSelect"
                    dropdown="true"
                    autoSelect="true"
                    autofocus="true"
                />
            </div>
        </div>

        
    </t>
    <t t-name="avatarAutoComplete">
        <span class="o_avatar_many2x_autocomplete o_avatar d-flex align-items-center">
            <t t-esc="option.label"/>
        </span>
    </t>

    


</templates>
