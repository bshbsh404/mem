# Frontdesk ROP (Royal Oman Police) API Integration

## ุงููุตู
ููุฏููู ูููุตู ูุชูุงูู ูุน API ุงูุดุฑุทุฉ ุงูุนูุงููุฉ (ROP) ูุฌูุจ ุจูุงูุงุช ุงูุฒูุงุฑ ุชููุงุฆูุงู ูู ูุธุงู Frontdesk ุจุงุณุชุฎุฏุงู Oracle IDCS ูููุตุงุฏูุฉ.

## ุงููููุฒุงุช
- โ ุชูุงูู ูุน API ุงูุดุฑุทุฉ ุงูุนูุงููุฉ ุงูุฑุณูู
- โ ูุตุงุฏูุฉ OAuth ุนุจุฑ Oracle IDCS
- โ ุงูุจุญุซ ุจุงูุฑูู ุงููุฏูู ูุชุงุฑูุฎ ุงูุชูุงุก ุงูุจุทุงูุฉ
- โ ููุก ุงูุจูุงูุงุช ุชููุงุฆูุงู (ุงูุฃุณูุงุก ุงูุนุฑุจูุฉุ ุฑูู ุงููุงุชู)
- โ ูุนุงูุฌุฉ ุงุณุชุฌุงุจุงุช XML ูู ROP API
- โ ูุงุฌูุฉ ุฅุนุฏุงุฏุงุช ุดุงููุฉ
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุฅุธูุงุฑ ุงูุฑุณุงุฆู
- โ ุนุฏู ุงูุชุฃุซูุฑ ุนูู ุงูููุฏ ุงูุฃุณุงุณู

## ุงูุชุซุจูุช

### 1. ุชุซุจูุช ุงููุชุทูุจุงุช
```bash
pip3 install requests
```

### 2. ุชุซุจูุช ุงูููุฏููู
```bash
# ุฅุนุงุฏุฉ ุชุดุบูู Odoo
sudo systemctl restart odoo

# ุชูุนูู ุงูููุฏููู ูู ูุงุฌูุฉ Odoo
# Apps > Search "Frontdesk Police API" > Install
```

### 3. ุงูุฅุนุฏุงุฏ
1. ุงุฐูุจ ุฅูู: **Frontdesk > Configuration > Police API**
2. ุฃูุดุฆ ุฅุนุฏุงุฏ ุฌุฏูุฏ:

#### OAuth Settings (Oracle IDCS):
   - **Auth Base URL**: `https://idcs-354938caa1a24a4189d498b4ebcb0fc0.identity.oraclecloud.com`
   - **Client ID**: `cf70c538b29f4bee993b6cd0bfc36856`
   - **Client Secret**: `idcscs-36bada7d-b6a3-4806-ad81-7c23b93d89cf`
   - **Scope**: `IntnwsApi.nws.nama.om/VMS`

#### ROP API Settings:
   - **API Base URL**: `https://IntnwsApi.nws.nama.om`
   - **Auth Key**: `zQ84RpT1xGnECMvf92bKLUYt6mJdoAWX`
   - **Consumer Code**: `VMS`
   - **ESB Category Code**: `INT`
   - **CRN of Request**: `6022158`

## ุงูุงุณุชุฎุฏุงู

### ูู ูููุฐุฌ ุงูุฒุงุฆุฑ:
1. ุงุฎุชุฑ ููุน ุงูุฒุงุฆุฑ: **"Police Database Lookup"**
2. ุฃุฏุฎู ุงูุฑูู ุงููุฏูู (8-12 ุฑูู)
3. ุฃุฏุฎู ุชุงุฑูุฎ ุงูุชูุงุก ุงูุจุทุงูุฉ
4. ุงุถุบุท **"๐ Lookup"**
5. ุณุชููุฃ ุงูุจูุงูุงุช ุชููุงุฆูุงู ูู ูุงุนุฏุฉ ุจูุงูุงุช ุงูุดุฑุทุฉ ุงูุนูุงููุฉ

### ุงูุจูุงูุงุช ุงูููุณุชุฑุฌุนุฉ:
- **ุงูุงุณู ุงูุฃูู**: `name_1_ar` (ูุญูุฏ)
- **ุงุณู ุงูุฃุจ**: `name_2_ar` (ุงูุงููู)
- **ุงุณู ุงูุฌุฏ**: `name_3_ar` (ุญุณูู)
- **ุงุณู ุงูุนุงุฆูุฉ**: `name_4_ar` (ุนูู)
- **ุฑูู ุงููุงุชู**: `mobileNumber` (99435375)
- **ุชุงุฑูุฎ ุงููููุงุฏ**: `dateOfBirth`

## ุจููุฉ ุงููููุงุช
```
frontdesk_police_api/
โโโ __init__.py
โโโ __manifest__.py
โโโ README.md
โโโ models/
โ   โโโ __init__.py
โ   โโโ police_api_config.py
โโโ controllers/
โ   โโโ __init__.py
โ   โโโ police_api_controller.py
โโโ views/
โ   โโโ frontdesk_police_config_views.xml
โโโ security/
โ   โโโ ir.model.access.csv
โโโ static/src/
    โโโ visitor_form_police_extension.js
    โโโ visitor_form_police_extension.xml
```

## ุชุฎุตูุต API ุงูุดุฑุทุฉ

ูุชุฎุตูุต API ุงูุดุฑุทุฉุ ุนุฏูู ููู:
`models/police_api_config.py` ูู ุฏุงูุฉ `get_visitor_data()`

## ุงูุฃูุงู
- ุฌููุน ุทูุจุงุช API ูุญููุฉ ุจููุงุชูุญ ูุตูู
- ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก
- ุชุณุฌูู ุงูุนูููุงุช ูู ุงูููู

## ุงูุฏุนู
ููุฏุนู ุงููููุ ุฑุงุฌุน ูููุงุช ุงูููู ูู Odoo.